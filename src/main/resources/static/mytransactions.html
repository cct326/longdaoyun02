<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="layui/css/layui.css" />
		<script type="text/javascript" src="layui/layui.js"></script>
	</head>

	<body>
		<div class="layui-tab layui-tab-brief">
			<ul class="layui-tab-title">
				<li class="layui-this">邀请报价</li>
				<li>已参与报价</li>
				<li>采购结果议价</li>
				<li>推荐项目</li>
			</ul>
			<div class="layui-tab-content">
				<div class="layui-tab-item layui-show">
					<div class="layui-container">

						<div class="layui-row layui-col-space20">
							<form action="" method="post" class="layui-form">
								<div class="layui-col-md3">
									<select name="flag" lay-verify="" style="width: 150px;height: 30px;">
										<option value="1">项目名称</option>
										<option value="2">发布企业</option>
										<option value="3">项目编码</option>
									</select>
								</div>
								<div class="layui-input-block layui-col-md3">
									<label class="layui-form-label">关键词：</label>
									<div class="layui-input-block">
										<input type="text" name="keyword" placeholder="搜索关键词" autocomplete="off" class="layui-input">
									</div>
								</div>

								<div class="layui-col-md3 layui-col-md-offset7">
									<div class="layui-form-item">
										<div class="layui-input-block">
											<button class="layui-btn" lay-submit lay-filter="search1">
								<i class="layui-icon layui-icon-search" style="font-size: 20px; color: &#xe615;"></i>搜索</a>
								</div>
								</div>
								</div>
							</form>
						</div>
					</div>
					<hr class="layui-bg-black">
					<table id="table1" lay-filter="table1"></table>
				</div>
				<div class="layui-tab-item">
					<div class="layui-container">
						<div class="layui-row layui-col-space20">
							<form action="" method="post" class="layui-form">
							<div class="layui-col-md3">
								<select name="flag" lay-verify="" style="width: 150px;height: 30px;">
									<option value="1">项目名称</option>
									<option value="2">发布企业</option>
									<option value="3">项目编码</option>
								</select>
							</div>
							<div class="layui-input-block layui-col-md3">
							<label class="layui-form-label">关键词：</label>
							<div class="layui-input-block">
								<input type="text" name="keyword" placeholder="搜索关键词" autocomplete="off" class="layui-input">
							</div>
							</div>
							
							<div class="layui-col-md3 layui-col-md-offset7">
									<div class="layui-form-item">
									<div class="layui-input-block">
								<button class="layui-btn" lay-submit lay-filter="search2">
								<i class="layui-icon layui-icon-search" style="font-size: 20px; color: &#xe615;"></i>搜索</a>
								</div>
								</div>
								</div>
							</form>
						</div>
					</div>
					<hr class="layui-bg-black">
					<table id="table2" lay-filter="table2"></table>
				</div>
				<div class="layui-tab-item">
					<div class="layui-container">

						<div class="layui-row layui-col-space20">
							<form action="" method="post" class="layui-form">
							<div class="layui-col-md3">
								<select name="flag" lay-verify="" style="width: 150px;height: 30px;">
									<option value="1">项目名称</option>
									<option value="2">发布企业</option>
									<option value="3">项目编码</option>
								</select>
							</div>
							<div class="layui-input-block layui-col-md3">
							<label class="layui-form-label">关键词：</label>
							<div class="layui-input-block">
								<input type="text" name="keyword" placeholder="搜索关键词" autocomplete="off" class="layui-input">
							</div>
							</div>
							
							<div class="layui-col-md3 layui-col-md-offset7">
									<div class="layui-form-item">
									<div class="layui-input-block">
								<button class="layui-btn" lay-submit lay-filter="search3">
								<i class="layui-icon layui-icon-search" style="font-size: 20px; color: &#xe615;"></i>搜索</a>
								</div>
								</div>
								</div>
							</form>
						</div>

					</div>
					<hr class="layui-bg-black">
					<table id="table3" lay-filter="table3"></table>
				</div>
				<div class="layui-tab-item">
					<div class="layui-container">

						<div class="layui-row layui-col-space20">
							<form action="" method="post" class="layui-form">
							<div class="layui-col-md3">
								<select name="flag" lay-verify="" style="width: 150px;height: 30px;">
									<option value="1">项目名称</option>
									<option value="2">发布企业</option>
									<option value="3">项目编码</option>
								</select>
							</div>
							<div class="layui-input-block layui-col-md3">
							<label class="layui-form-label">关键词：</label>
							<div class="layui-input-block">
								<input type="text" name="keyword" placeholder="搜索关键词" autocomplete="off" class="layui-input">
							</div>
							</div>
							
							<div class="layui-col-md3 layui-col-md-offset7">
									<div class="layui-form-item">
									<div class="layui-input-block">
								<button class="layui-btn" lay-submit lay-filter="search4">
								<i class="layui-icon layui-icon-search" style="font-size: 20px; color: &#xe615;"></i>搜索</a>
								</div>
								</div>
								</div>
							</form>
						</div>

					</div>
					<hr class="layui-bg-black">
					<table id="table4" lay-filter="table4"></table>
				</div>
			</div>
		</div>

		<script>
			//注意：选项卡 依赖 element 模块，否则无法进行功能性操作
			layui.use(['element','laypage','form','table'], function() {
				var element = layui.element;
				var laypage = layui.laypage;
				var form = layui.form;
				var table = layui.table;
				
				//监听提交
				form.on('submit(search1)', function(data) {
					table.reload('tableOne',{
						url:"/transaction/mytransaction"
						,height:500
						,limit:10
						,page:true
						,where:{
							flag:data.field.flag
							,keyword:data.field.keyword
						}
						
					})
					return false;
				});
				form.on('submit(search2)', function(data) {
					table.reload('tableTwo',{
						url:"/transaction/mytransaction"
						,height:500
						,limit:10
						,page:true
						,where:{
							flag:data.field.flag
							,keyword:data.field.keyword
						}
						
					})
					return false;
				});
				form.on('submit(search3)', function(data) {
					table.reload('tableThree',{
						url:"/transaction/mytransaction"
						,height:500
						,limit:10
						,page:true
						,where:{
							flag:data.field.flag
							,keyword:data.field.keyword
						}
						
					})
					return false;
				});
				form.on('submit(search4)', function(data) {
					table.reload('tableFour',{
						url:"/transaction/mytransaction"
						,height:500
						,limit:10
						,page:true
						,where:{
							flag:data.field.flag
							,keyword:data.field.keyword
						}
						
					})
					return false;
				});
				
				table.render({
    				elem: '#table1'
    				,height: 500
    				,url: '/transaction/mytransaction' //数据接口
    				,page: true //开启分页
    				,limit:10
    				,method:"post"
    				,text:{
    					none:"暂无相关数据"
    				}
    				,cols: [[ //表头
      				 {field: 'id', title: '序号', width:150, align:'center',fixed: 'left'}
      				,{field: 'itemNumber', title: '项目编号', align:'center',width:250}
      				,{field: 'itemName', title: '项目名称', align:'center',width:250, }
      				,{field: 'companyName', title: '发布企业',align:'center', width:250} 
      				,{field: 'transactionsTime', title: '建档时间', align:'center',width: 200}
      				,{field: 'offerIndate', title: '报价有效期', align:'center',width: 250}
      				,{field: 'do', title: '操作',align:'center',fixed: 'right',toolbar: '#bar1'}
    				]]
    				,id:"tableOne"
  				});
				
				table.render({
    				elem: '#table2'
    				,height: 500
    				,url: '/transaction/mytransaction' //数据接口
    				,page: true //开启分页
    				,limit:10
    				,method:"post"
    				,text:{
    					none:"暂无相关数据"
    				}
    				,cols: [[ //表头
      				 {field: 'id', title: '序号', width:150,align:'center', fixed: 'left'}
      				,{field: 'itemNumber', title: '项目编号', align:'center',width:250}
      				,{field: 'itemName', title: '项目名称',align:'center', width:250, }
      				,{field: 'companyName', title: '发布企业', align:'center',width:250} 
      				,{field: 'transactionsTime', title: '建档时间', align:'center',width: 200}
      				,{field: 'offerIndate', title: '报价有效期',align:'center', width: 250}
      				,{field: 'status', title: '状态', align:'center',width: 180,templet:function (d) {
      				    		if (d.status===1){
      				    		    return '<span style="color: #c00;">中标</span>'
								}
                                if (d.status===2){
                                    return '未中标'
                                }
                                if (d.status===3){
                                    return '全部报价'
                                }
                                if (d.status===4){
                                    return '部分报价'
                                }
                                if (d.status===5){
                                    return '撤标'
                                }


                            }}
      				,{field: 'do', title: '操作',align:'center',fixed: 'right',toolbar: '#bar2'}
    				]]
    				,id:"tableTwo"
  				});
				
				table.render({
    				elem: '#table3'
    				,height: 500
    				,url: '/transaction/mytransaction' //数据接口
    				,page: true //开启分页
    				,limit:10
    				,method:"post"
    				,text:{
    					none:"暂无相关数据"
    				}
    				,cols: [[ //表头
      				 {field: 'id', title: '序号', width:150,align:'center', fixed: 'left'}
      				,{field: 'itemNumber', title: '项目编号', align:'center',width:250}
      				,{field: 'itemName', title: '项目名称',align:'center', width:250, }
      				,{field: 'companyName', title: '发布企业',align:'center', width:250} 
      				,{field: 'transactionsTime', title: '建档时间',align:'center', width: 200}
      				,{field: 'offerIndate', title: '议价有效期', align:'center',width: 250}
      				,{field: 'status', title: '状态',align:'center', width: 180,templet:function (d) {
      				    		if (d.status===1){
      				    		    return '<span style="color: #c00;">中标</span>'
								}
                                if (d.status===2){
                                    return '未中标'
                                }
                                if (d.status===3){
                                    return '全部报价'
                                }
                                if (d.status===4){
                                    return '部分报价'
                                }
                                if (d.status===5){
                                    return '撤标'
                                }


                            }}
      				,{field: 'do', title: '操作',align:'center',fixed: 'right',toolbar: '#bar3'}
    				]]
    				,id:"tableThree"
  				});
  				
  				table.render({
    				elem: '#table4'
    				,height: 500
    				,url: '/transaction/mytransaction' //数据接口
    				,page: true //开启分页
    				,limit:10
    				,method:"post"
    				,text:{
    					none:"暂无相关数据"
    				}
    				,cols: [[ //表头
      				 {field: 'id', title: '序号', width:150, align:'center',fixed: 'left'}
      				,{field: 'itemName', title: '项目名称',align:'center', width:250,}
      				,{field: 'itemNumber', title: '项目编号', align:'center',width:250}
      				,{field: 'bidIndate', title: '投标截止时间',align:'center', width: 200}
      				,{field: 'companyName', title: '发布企业', align:'center',width:250} 
      				,{field: 'transactionsTime', title: '建档时间', align:'center',width: 200}
      				,{field: 'do', title: '操作',align:'center',fixed: 'right',toolbar: '#bar4'}
    				]]
    				,id:"tableFour"
  				});
  				
  				table.on('tool(table1)', function(obj){ //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
  					var data = obj.data; //获得当前行数据
  					var layEvent = obj.event; //获得 lay-event 对应的值（也可以是表头的 event 参数对应的值）
  					var tr = obj.tr; //获得当前行 tr 的DOM对象
 
  					if(layEvent === 'detail'){ //查看
  						alert("哈哈")
  				}
  		})
			});
		</script>
		
		<script id="bar1" type="text/html">
			<a class="layui-btn layui-btn-xs" lay-event="detail">查看</a>
		</script>
	</body>
</html>